import { css } from "@emotion/css";
import * as React from "react";
import { ChargeStatus } from "../data/chargeStatus";

interface ChargeStatusStyle {
  text: string;
  color: string;
  withAnimation: boolean;
}

const chargeNowStyle: ChargeStatusStyle = {
  color: "#A8CB68",
  text: "charge now",
  withAnimation: true,
};
const chargeSoonStyle: ChargeStatusStyle = {
  color: "#F1B434",
  text: "charge soon",
  withAnimation: false,
};
const loadingStyle: ChargeStatusStyle = {
  color: "#E8E8E8",
  text: "loading",
  withAnimation: false,
};
const errorStyle: ChargeStatusStyle = {
  color: "#BA1731",
  text: "error",
  withAnimation: false,
};

const chargeStatusStyleFromChargeStatus = (
  chargeStatus: ChargeStatus
): ChargeStatusStyle => {
  switch (chargeStatus) {
    case "now":
      return chargeNowStyle;
    case "soon":
      return chargeSoonStyle;
    case "loading":
      return loadingStyle;
    case "error":
      return errorStyle;

    default:
      const x: never = chargeStatus;
      return x;
  }
};

interface ChargeNowProps {
  width: string;
  height: string;
  chargeStatus: ChargeStatus;
}

export const ChargeNow = ({
  width,
  height,
  chargeStatus,
}: ChargeNowProps): JSX.Element => {
  const { text, color, withAnimation } =
    chargeStatusStyleFromChargeStatus(chargeStatus);
  return (
    <svg
      width={width}
      height={height}
      viewBox="0 0 1552 351"
      xmlns="http://www.w3.org/2000/svg"
      xmlnsXlink="http://www.w3.org/1999/xlink"
    >
      <defs>
        <path
          d="M1.776.335a3.235 3.235 0 00-1.77 2.692A3.25 3.25 0 001.42 5.926l1.322.898a6.301 6.301 0 003.537 1.077H29.84a6.3 6.3 0 003.53-1.085l1.33-.89c1.443-.976 1.85-2.945.917-4.429-.966-1.532-3.02-1.923-4.508-.918-.828.559-1.8.858-2.794.859H7.804A5 5 0 015.01.579L4.957.544A3.148 3.148 0 001.776.335z"
          id="a"
        />
        <path
          d="M1.776.335a3.235 3.235 0 00-1.77 2.692A3.25 3.25 0 001.42 5.926l1.322.898a6.301 6.301 0 003.537 1.077H29.84a6.3 6.3 0 003.53-1.085l1.33-.89c1.443-.976 1.85-2.945.917-4.429-.966-1.532-3.02-1.923-4.508-.918-.828.559-1.8.858-2.794.859H7.804A5 5 0 015.01.579L4.957.544A3.148 3.148 0 001.776.335z"
          id="c"
        />
        <path
          d="M0 6.032c0 3.332 2.807 6.032 6.267 6.032 3.461 0 6.267-2.7 6.267-6.032C12.534 2.701 9.728 0 6.267 0 2.807 0 0 2.701 0 6.032z"
          id="e"
        />
        <path
          d="M0 6.032c0 3.332 2.806 6.032 6.268 6.032 3.461 0 6.266-2.7 6.266-6.032C12.534 2.701 9.729 0 6.268 0 2.806 0 0 2.701 0 6.032z"
          id="g"
        />
        {/* <filter colorInterpolationFilters="auto" id="i">
          <feColorMatrix
            in="SourceGraphic"
            values="0 0 0 0 0.658824 0 0 0 0 0.796078 0 0 0 0 0.407843 0 0 0 1.000000 0"
          />
        </filter>
        <filter colorInterpolationFilters="auto" id="j">
          <feColorMatrix
            in="SourceGraphic"
            values="0 0 0 0 0.658824 0 0 0 0 0.796078 0 0 0 0 0.407843 0 0 0 1.000000 0"
          />
        </filter>
        <filter colorInterpolationFilters="auto" id="k">
          <feColorMatrix
            in="SourceGraphic"
            values="0 0 0 0 0.658824 0 0 0 0 0.796078 0 0 0 0 0.407843 0 0 0 1.000000 0"
          />
        </filter>
        <filter colorInterpolationFilters="auto" id="l">
          <feColorMatrix
            in="SourceGraphic"
            values="0 0 0 0 0.658824 0 0 0 0 0.796078 0 0 0 0 0.407843 0 0 0 1.000000 0"
          />
        </filter> */}
      </defs>
      <g stroke="none" strokeWidth={1} fill="none" fillRule="evenodd">
        <g transform="translate(29 57) translate(1411.258 144.86)">
          <mask id="b" fill="#fff">
            <use xlinkHref="#a" />
          </mask>
          <path
            fill={color}
            mask="url(#b)"
            d="M-1.19541518 9.033L37.6795848 9.033 37.6795848 -1.555 -1.19541518 -1.555z"
          />
          <path
            stroke={color}
            mask="url(#b)"
            d="M-1.19541518 9.033L37.6795848 9.033 37.6795848 -1.555 -1.19541518 -1.555z"
          />
        </g>
        <g transform="translate(29 57) translate(1411.258 144.86)">
          <mask id="d" fill="#fff">
            <use xlinkHref="#c" />
          </mask>
          <path
            stroke={color}
            mask="url(#d)"
            d="M-1173.74542 170.171L119.769585 170.171 119.769585 -226.01 -1173.74542 -226.01z"
          />
        </g>
        <path
          d="M88.378 145.439a4.988 4.988 0 01-2.794.858H65.072a4.987 4.987 0 01-2.793-.858l-.053-.035a3.15 3.15 0 00-3.182-.208 3.234 3.234 0 00-1.769 2.69 3.247 3.247 0 001.413 2.9l1.322.898a6.31 6.31 0 003.537 1.078h23.562a6.312 6.312 0 003.531-1.086l1.328-.89c1.444-.976 1.852-2.945.918-4.43-.966-1.53-3.02-1.923-4.508-.917z"
          stroke={color}
          transform="translate(29 57) translate(1353.99)"
        />
        <g transform="translate(29 57) translate(1353.99) translate(51 110.538)">
          <mask id="f" fill="#fff">
            <use xlinkHref="#e" />
          </mask>
          <path
            fill={color}
            mask="url(#f)"
            d="M-1.128 13.192L13.663 13.192 13.663 -1.129 -1.128 -1.129z"
          />
        </g>
        <g transform="translate(29 57) translate(1353.99) translate(84.126 110.538)">
          <mask id="h" fill="#fff">
            <use xlinkHref="#g" />
          </mask>
          <path
            fill={color}
            mask="url(#h)"
            d="M-1.129 13.192L13.663 13.192 13.663 -1.129 -1.129 -1.129z"
          />
        </g>
        <path
          d="M127.266 230.649H20.396c-6.6 0-12-5.4-12-12V39.66c0-6.6 5.4-12 12-12h106.87c6.6 0 12 5.4 12 12v178.988c0 6.6-5.4 12-12 12z"
          stroke={color}
          strokeWidth={15}
          transform="translate(29 57) translate(1353.99)"
        />
        <path
          d="M98.933 27.661H48.728c-6.6 0-12-5.4-12-12V12c0-6.6 5.4-12 12-12h50.205c6.6 0 12 5.4 12 12v3.661c0 6.6-5.4 12-12 12z"
          stroke={color}
          strokeWidth={15}
          transform="translate(29 57) translate(1353.99)"
        />
        <path
          d="M3.888 169.126c6.614-16.696 18.283 5.077 30.288-.463 13.402-6.185 18.13-17.688 32.18-12.833 2.585.893 18.006 11.29 24.507 9.635 2.083-.53 3.144-3.062 4.071-5 2.418-5.054 3.315-10.76 5.856-15.751 7.926-15.565 32.373-25.82 35.462-1.146 1.729 13.804 2.12 27.75 2.599 41.652.356 10.375 1.241 20.848-.097 31.142-.554 4.262-11.613 9.812-13.754 10.285-9.928 2.197-20.1 3.391-30.257 3.889-20.483 1.003-81.106 2.893-92.962-18.495C.534 209.792 0 207.107 0 204.536c-.002-10.17 1.183-20.307 1.774-30.46l2.114-4.95z"
          fill={color}
          opacity={0.352236793}
          transform="translate(29 57) translate(1353.99)"
        />
        <path
          d="M265.757 236.28H12c-6.6 0-12-5.4-12-12v-58.6c0-6.6 5.4-12 12-12h253.757c6.6 0 12 5.4 12 12v58.6c0 6.6-5.4 12-12 12"
          fill={color}
          transform="translate(29 57)"
        />
        <path
          className={withAnimation ? lineAnimation : ""}
          d="M278.5 207.5c40.74-11.14 69.374-16.88 85.906-17.22 49.73-1.022 107.763 12.493 139.594 8.284 63.233-8.36 152.42-78.994 225-90.884 3.37-.552 13.714-.402 17.73 0 44.044 4.41 117.048 61.046 160.27 61.24 1.852.008 11.74.167 13.724 0C978.086 164.102 1080.692 88.461 1130 90c1.804.056 8.577-.15 10.39 0 51.58 4.27 101.504 45.476 138.97 47 25.745 1.047 53.42-12.706 83.025-41.26"
          stroke={color}
          strokeWidth={10}
          strokeDasharray="1200"
          transform="translate(29 57)"
        />
        <text
          fontFamily="Helvetica-Bold, Helvetica"
          fontSize={24}
          fontWeight="bold"
          fill="#FEFEFE"
          transform="translate(29 57)"
        >
          <tspan x={54.7192} y={206.3609}>
            {text}
          </tspan>
        </text>
        <g transform="translate(29 57) translate(470 145)" filter={color}>
          <path
            d="M19 31.063c.75 0 1.357.608 1.357 1.358v4.222a1.357 1.357 0 01-2.714 0V32.42c0-.75.607-1.358 1.357-1.358zM8.55 27.53a1.357 1.357 0 011.92 1.92l-2.986 2.985a1.357 1.357 0 11-1.919-1.92zm18.98 0c.53-.53 1.39-.53 1.92 0l2.985 2.986a1.357 1.357 0 01-1.92 1.919L27.53 29.45c-.53-.53-.53-1.39 0-1.92zM13.22 10.349a10.405 10.405 0 0113.137 1.294A10.337 10.337 0 0129.405 19a10.405 10.405 0 11-16.186-8.651zm5.78.96c-4.24 0-7.69 3.45-7.69 7.691 0 4.24 3.45 7.69 7.69 7.69s7.69-3.45 7.69-7.69-3.45-7.69-7.69-7.69zm17.643 6.334a1.357 1.357 0 010 2.714H32.42a1.357 1.357 0 010-2.714zm-31.064 0a1.357 1.357 0 010 2.714H1.357a1.357 1.357 0 010-2.714zM30.516 5.565a1.357 1.357 0 011.919 1.92L29.45 10.47a1.357 1.357 0 11-1.92-1.92zm-24.347-.36c.471-.125.973.013 1.315.36L10.47 8.55a1.357 1.357 0 01-1.92 1.92L5.565 7.484a1.357 1.357 0 01.604-2.279zM19 0c.75 0 1.357.608 1.357 1.357V5.58a1.357 1.357 0 01-2.714 0V1.357C17.643.607 18.25 0 19 0z"
            fill={color}
          />
        </g>
        <g transform="translate(29 57) translate(1130 118)" filter={color}>
          <path
            d="M21.972 34.507c2.276 0 4.127 1.835 4.127 4.09 0 .967-.364 2.417-.905 3.608C24.146 44.515 22.863 45 21.972 45c-.89 0-2.171-.485-3.221-2.795-.542-1.19-.906-2.642-.906-3.609 0-2.254 1.852-4.089 4.127-4.089zm.003 3.015c-.623 0-1.129.482-1.129 1.074 0 .383.167 1.194.485 2.002.24.614.474.996.644 1.213.167-.217.402-.6.643-1.213.316-.808.482-1.619.484-2.002 0-.592-.505-1.074-1.127-1.074zM8.197 28.111c2.276 0 4.126 1.832 4.127 4.089 0 .967-.363 2.418-.905 3.609-1.05 2.31-2.331 2.794-3.221 2.794-.89 0-2.172-.484-3.222-2.794-.542-1.191-.905-2.642-.905-3.61 0-2.254 1.85-4.088 4.126-4.088zm27.549 0c2.275 0 4.124 1.832 4.127 4.089 0 .967-.364 2.418-.905 3.609-1.05 2.31-2.332 2.794-3.221 2.794-.89 0-2.172-.484-3.222-2.794-.542-1.191-.905-2.642-.905-3.61 0-2.254 1.85-4.088 4.126-4.088zM8.197 31.126c-.622 0-1.127.482-1.127 1.074 0 .382.166 1.193.484 2.002.24.613.476.996.643 1.212.167-.216.403-.6.644-1.212.318-.809.484-1.62.484-2.002 0-.592-.506-1.074-1.128-1.074zm27.549 0c-.622 0-1.128.482-1.128 1.074 0 .382.167 1.193.485 2.002.24.613.473.996.643 1.212.167-.216.403-.6.644-1.212.318-.809.482-1.62.482-2.002 0-.592-.504-1.074-1.126-1.074zM21.859 0c5.453.005 10.342 3.386 12.305 8.509.286-.027.574-.042.862-.042 4.948 0 8.974 4.055 8.974 9.037 0 4.982-4.025 9.036-8.974 9.036H8.974C4.026 26.54 0 22.487 0 17.504s4.026-9.037 8.974-9.037c.197 0 .394.008.591.02a13.376 13.376 0 014.24-5.718A12.994 12.994 0 0121.858 0zm0 3.02a10.04 10.04 0 00-6.224 2.138 10.324 10.324 0 00-3.597 5.397l-.376 1.384-1.391-.31a5.957 5.957 0 00-5.994 2.136 6.054 6.054 0 00-.694 6.364 5.975 5.975 0 005.391 3.395h26.052a5.969 5.969 0 005.413-3.461 6.054 6.054 0 00-.815-6.406 5.955 5.955 0 00-6.107-1.977l-1.438.376-.385-1.446c-1.2-4.476-5.23-7.587-9.835-7.59z"
            fill={color}
            fillRule="nonzero"
          />
        </g>
        <g transform="translate(29 57) translate(710 145)" filter={color}>
          <path
            d="M45.916 2.43l-.077-.926-.901-.236C44.756 1.22 40.435.111 34.846.008c-3.304-.061-6.367.245-9.105.912-3.482.848-6.446 2.284-8.81 4.267-2.363 1.982-4.288 4.65-5.724 7.927-1.129 2.577-1.96 5.536-2.467 8.798-.86 5.514-.508 9.955-.493 10.14l.024.293a64.899 64.899 0 01-7.39 3.102 1.312 1.312 0 10.869 2.48 67.514 67.514 0 009.659-4.246 49.903 49.903 0 008.728.802c2.992 0 5.775-.31 8.284-.92 3.481-.848 6.445-2.284 8.809-4.267 2.364-1.982 4.29-4.65 5.726-7.928 1.129-2.576 1.96-5.535 2.467-8.798.86-5.512.508-9.953.493-10.14zm-3.09 9.738c-.475 3.037-1.24 5.778-2.279 8.147-1.272 2.904-2.958 5.25-5.009 6.97-2.051 1.721-4.638 2.966-7.71 3.719-2.508.614-5.336.899-8.404.846a45.785 45.785 0 01-4.353-.289 67.256 67.256 0 0019.062-17.749 1.311 1.311 0 00-.296-1.832 1.316 1.316 0 00-1.836.296 64.616 64.616 0 01-21.014 18.642l-.163-.034c-.09-2.886.087-5.774.527-8.627.477-3.027 1.245-5.759 2.282-8.118 1.271-2.89 2.952-5.226 4.997-6.941 2.044-1.715 4.638-2.965 7.71-3.718 2.508-.615 5.335-.9 8.404-.847 2.892.058 5.772.382 8.605.967a46.926 46.926 0 01-.524 8.568z"
            fill={color}
            fillRule="nonzero"
          />
        </g>
        <g filter={color} transform="translate(29 57)">
          <path
            d="M20.528 19c1.19.003 2.331.48 3.173 1.328a4.524 4.524 0 01-.019 6.364A4.433 4.433 0 0120.528 28h-.013a4.432 4.432 0 01-3.16-1.328 1.278 1.278 0 01.571-2.134c.439-.116.906.013 1.224.338.363.369.856.576 1.372.577a1.928 1.928 0 001.375-.568 1.962 1.962 0 00.425-2.13 1.942 1.942 0 00-1.794-1.208H1.266c-.7 0-1.266-.57-1.266-1.274A1.27 1.27 0 011.266 19zm8.294-14a5.244 5.244 0 013.664 1.47c1.479 1.428 1.92 3.576 1.12 5.442-.8 1.866-2.687 3.084-4.78 3.088H1.244C.557 15 0 14.463 0 13.8c0-.662.557-1.2 1.244-1.2h27.58c1.488 0 2.695-1.166 2.694-2.602-.001-1.437-1.21-2.6-2.698-2.6a2.732 2.732 0 00-1.908.76 1.275 1.275 0 01-1.204.315 1.222 1.222 0 01-.882-.852c-.114-.416.012-.86.33-1.162A5.247 5.247 0 0128.815 5zM12.426 1.325a4.39 4.39 0 016.268-.018c1.734 1.75 1.742 4.605.02 6.365A4.427 4.427 0 0115.568 9H1.254C.561 9 0 8.43 0 7.726c0-.703.561-1.273 1.254-1.273H15.57a1.93 1.93 0 001.86-1.45 1.967 1.967 0 00-.9-2.198 1.902 1.902 0 00-2.324.316 1.24 1.24 0 01-1.774.006 1.288 1.288 0 01-.005-1.802z"
            fill={color}
            fillRule="nonzero"
            transform="translate(894 90)"
          />
        </g>
      </g>
    </svg>
  );
};

const lineAnimation = css({
  animation: "line 2s linear 3s infinite",
  "@keyframes line": {
    from: { strokeDashoffset: 1200 },
    to: { strokeDashoffset: 10 },
  },
});
